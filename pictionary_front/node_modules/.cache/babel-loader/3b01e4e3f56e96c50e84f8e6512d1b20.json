{"ast":null,"code":"import { useEffect, useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nconst inGame = () => {\n  const socketRef = useRef();\n  const token = localStorage.getItem('token');\n  const partyID = localStorage.getItem('partyID');\n  useEffect(() => {\n    socketRef.current = socketIOClient('http://localhost:7001');\n    socketRef.current.on(\"newChatMessage\", ({\n      message\n    }) => {\n      setMessages(messages => [...messages, message]);\n    });\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, []);\n\n  const enterGame = () => {\n    socketRef.current.emit(\"newPlayer\", {\n      token,\n      partyID\n    });\n  };\n\n  return {\n    enterGame\n  };\n};\n\nexport default inGame;","map":{"version":3,"sources":["/home/benoit/Documents/Lab/pictionnary crash_test/pictionary_front/src/components/Ingame/_inGame.js"],"names":["useEffect","useRef","useState","socketIOClient","inGame","socketRef","token","localStorage","getItem","partyID","current","on","message","setMessages","messages","disconnect","enterGame","emit"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,MAAnB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAGA,MAAMC,MAAM,GAAG,MAAM;AACjB,QAAMC,SAAS,GAAGJ,MAAM,EAAxB;AACA,QAAMK,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMC,OAAO,GAAGF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,SAAS,CAACK,OAAV,GAAoBP,cAAc,CAAC,uBAAD,CAAlC;AAEAE,IAAAA,SAAS,CAACK,OAAV,CAAkBC,EAAlB,CAAqB,gBAArB,EAAuC,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAgB;AACnDC,MAAAA,WAAW,CAACC,QAAQ,IAAI,CAAC,GAAGA,QAAJ,EAAcF,OAAd,CAAb,CAAX;AACH,KAFD;AAGA,WAAO,MAAM;AACTP,MAAAA,SAAS,CAACK,OAAV,CAAkBK,UAAlB;AACH,KAFD;AAGH,GATQ,EASN,EATM,CAAT;;AAWA,QAAMC,SAAS,GAAG,MAAM;AACpBX,IAAAA,SAAS,CAACK,OAAV,CAAkBO,IAAlB,CAAuB,WAAvB,EAAoC;AAACX,MAAAA,KAAD;AAAQG,MAAAA;AAAR,KAApC;AACH,GAFD;;AAIA,SAAO;AAACO,IAAAA;AAAD,GAAP;AACH,CArBD;;AAuBA,eAAeZ,MAAf","sourcesContent":["import {useEffect, useRef, useState} from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\n\nconst inGame = () => {\n    const socketRef = useRef();\n    const token = localStorage.getItem('token');\n    const partyID = localStorage.getItem('partyID');\n\n    useEffect(() => {\n        socketRef.current = socketIOClient('http://localhost:7001');\n\n        socketRef.current.on(\"newChatMessage\", ({ message })=> {\n            setMessages(messages => [...messages, message])\n        });\n        return () => {\n            socketRef.current.disconnect();\n        };\n    }, [])\n\n    const enterGame = () => {\n        socketRef.current.emit(\"newPlayer\", {token, partyID})\n    }\n\n    return {enterGame};\n}\n\nexport default inGame;"]},"metadata":{},"sourceType":"module"}